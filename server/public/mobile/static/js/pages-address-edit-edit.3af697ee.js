(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-address-edit-edit"],{5188:function(t,e,i){var n=i("f76a");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("775dd5eb",n,!0,{sourceMap:!1,shadowMode:!1})},"8b71":function(t,e,i){"use strict";var n=i("5188"),a=i.n(n);a.a},"8e7d":function(t,e,i){"use strict";i.r(e);var n=i("a731"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},9640:function(t,e,i){"use strict";i.r(e);var n=i("d84c"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},a2b4:function(t,e,i){"use strict";i.r(e);var n=i("ff85"),a=i("8e7d");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);var r,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);e["default"]=u.exports},a731:function(t,e,i){"use strict";var n=i("4ea4");i("99af"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("03a2")),o={data:function(){var t=this;return{isFirstLoading:!0,regionList:[],showRegion:!1,form:{id:0,nickname:"",mobile:"",region:"",address:"",is_default:0,province_id:0,city_id:0,district_id:0},rules:{nickname:[{required:!0,message:"请输入收货人名称",trigger:["blur","change"]}],mobile:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{validator:function(e,i,n){return t.$u.test.mobile(i)},message:"手机号码不正确",trigger:["blur","change"]}],region:[{required:!0,message:"请选择收货地区",trigger:["blur","change"]}],address:[{required:!0,message:"请输入详细的收货地址",trigger:["blur","change"]}]}}},onLoad:function(t){var e=this;this.form.id=parseInt(t.id||0),this.form.id?(this.getAddress(),uni.setNavigationBarTitle({title:"编辑地址"})):(uni.setNavigationBarTitle({title:"添加地址"}),this.getWxAddress(),this.$nextTick((function(){e.isFirstLoading=!1}))),this.$nextTick((function(){e.regionList=a.default}))},onReady:function(){this.$refs.uForm.setRules(this.rules)},onUnload:function(){uni.removeStorageSync("wxAddress")},methods:{getAddress:function(){var t=this;this.$u.api.apiAddressDetail({id:this.form.id}).then((function(e){0===e.code?(t.form=e.data,t.$nextTick((function(){t.isFirstLoading=!1}))):t.$showToast("loading data error")}))},getWxAddress:function(){var t=this,e=uni.getStorageSync("wxAddress");if(e){e=JSON.parse(e);var i=e,n=i.userName,a=i.telNumber,o=i.provinceName,r=i.cityName,s=i.detailInfo,u=e.countryName||e.countyName;this.$u.api.apiAddressRegion({province:o,city:r,district:u}).then((function(e){e.data.province&&(t.form.region="".concat(o," ").concat(r," ").concat(u),t.form.nickname=n,t.form.mobile=a,t.form.address=s,t.form.province_id=e.data.province,t.form.city_id=e.data.city,t.form.district_id=e.data.district)}))}},onShowRegion:function(){this.showRegion=!this.showRegion},onRegionChange:function(t){this.form.province_id=t[0].value,this.form.city_id=t[1].value,this.form.district_id=t[2].value,this.form.region=t[0].label+" "+t[1].label+" "+t[2].label},onSwitchDefault:function(){var t=this.form.is_default?0:1;this.form.is_default=t},onSubmit:function(){var t=this;this.$refs.uForm.validate((function(e){e&&(t.form.id?t.$u.api.apiAddressEdit(t.form).then((function(e){0===e.code?(t.$showSuccess(e.msg),setTimeout((function(){uni.navigateBack({delta:1})}),800)):t.$showToast(e.msg)})):t.$u.api.apiAddressAdd(t.form).then((function(e){0===e.code?(t.$showSuccess(e.msg),setTimeout((function(){uni.navigateBack({delta:1})}),800)):t.$showToast(e.msg)})))}))}}};e.default=o},d610:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uLoading:i("9e22").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-switch",class:[1==t.value?"u-switch--on":"",t.disabled?"u-switch--disabled":""],style:[t.switchStyle],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onClick.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"u-switch__node node-class",style:{width:t.$u.addUnit(this.size),height:t.$u.addUnit(this.size)}},[i("u-loading",{staticClass:"u-switch__loading",attrs:{show:t.loading,size:.6*t.size,color:t.loadingColor}})],1)],1)},o=[]},d84c:function(t,e,i){"use strict";i("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-switch",props:{loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:50},activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#ffffff"},value:{type:Boolean,default:!1},vibrateShort:{type:Boolean,default:!1},activeValue:{type:[Number,String,Boolean],default:!0},inactiveValue:{type:[Number,String,Boolean],default:!1}},data:function(){return{}},computed:{switchStyle:function(){var t={};return t.fontSize=this.size+"rpx",t.backgroundColor=this.value?this.activeColor:this.inactiveColor,t},loadingColor:function(){return this.value?this.activeColor:null}},methods:{onClick:function(){var t=this;this.disabled||this.loading||(this.vibrateShort&&uni.vibrateShort(),this.$emit("input",!this.value),this.$nextTick((function(){t.$emit("change",t.value?t.activeValue:t.inactiveValue)})))}}};e.default=n},f135:function(t,e,i){"use strict";i.r(e);var n=i("d610"),a=i("9640");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("8b71");var r,s=i("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"51848aae",null,!1,n["a"],r);e["default"]=u.exports},f76a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/* 颜色 */\r\n/* 边框 */\r\n/* 引入Uview */.u-switch[data-v-51848aae]{position:relative;display:inline-block;box-sizing:initial;width:2em;height:1em;background-color:#fff;border:1px solid rgba(0,0,0,.1);border-radius:1em;transition:background-color .3s;font-size:%?50?%}.u-switch__node[data-v-51848aae]{display:flex;flex-direction:row;align-items:center;justify-content:center;position:absolute;top:0;left:0;border-radius:100%;z-index:1;background-color:#fff;background-color:#fff;box-shadow:0 3px 1px 0 rgba(0,0,0,.05),0 2px 2px 0 rgba(0,0,0,.1),0 3px 3px 0 rgba(0,0,0,.05);box-shadow:0 3px 1px 0 rgba(0,0,0,.05),0 2px 2px 0 rgba(0,0,0,.1),0 3px 3px 0 rgba(0,0,0,.05);transition:-webkit-transform .3s cubic-bezier(.3,1.05,.4,1.05);transition:transform .3s cubic-bezier(.3,1.05,.4,1.05);transition:transform .3s cubic-bezier(.3,1.05,.4,1.05),-webkit-transform .3s cubic-bezier(.3,1.05,.4,1.05);transition:-webkit-transform cubic-bezier(.3,1.05,.4,1.05);transition:transform cubic-bezier(.3,1.05,.4,1.05);transition:transform cubic-bezier(.3,1.05,.4,1.05),-webkit-transform cubic-bezier(.3,1.05,.4,1.05);transition:transform .3s cubic-bezier(.3,1.05,.4,1.05)}.u-switch__loading[data-v-51848aae]{display:flex;flex-direction:row;align-items:center;justify-content:center}.u-switch--on[data-v-51848aae]{background-color:#1989fa}.u-switch--on .u-switch__node[data-v-51848aae]{-webkit-transform:translateX(100%);transform:translateX(100%)}.u-switch--disabled[data-v-51848aae]{opacity:.4}',""]),t.exports=e},ff85:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={waitLoading:i("5198").default,uForm:i("8782").default,uFormItem:i("eb61").default,uInput:i("1fb0").default,uSelect:i("9153").default,uSwitch:i("f135").default,uButton:i("63fe").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[t.isFirstLoading?i("wait-loading"):t._e(),i("v-uni-view",{staticClass:"u-margin-tb-20 u-padding-lr-30 u-bg-white"},[i("u-form",{ref:"uForm",attrs:{model:t.form,"error-type":["toast","border-bottom"]}},[i("u-form-item",{attrs:{label:"收货人","label-width":"140",prop:"nickname"}},[i("u-input",{attrs:{placeholder:"请填写收货人姓名"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,"nickname",e)},expression:"form.nickname"}})],1),i("u-form-item",{attrs:{label:"手机号码","label-width":"140",prop:"mobile"}},[i("u-input",{attrs:{placeholder:"请填写收货人手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),i("u-form-item",{attrs:{label:"所在地区","label-width":"140",prop:"region"}},[t.form.region?i("v-uni-view",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowRegion.apply(void 0,arguments)}}},[t._v(t._s(t.form.region))]):i("v-uni-view",{staticClass:"u-color-muted",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onShowRegion.apply(void 0,arguments)}}},[t._v("请选择省、市、区")]),i("u-select",{attrs:{mode:"mutil-column-auto",list:t.regionList},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onRegionChange.apply(void 0,arguments)}},model:{value:t.showRegion,callback:function(e){t.showRegion=e},expression:"showRegion"}})],1),i("u-form-item",{attrs:{label:"详细地址","label-width":"140",prop:"address"}},[i("u-input",{attrs:{type:"textarea",height:76,placeholder:"填写小区、街道、门牌号等信息"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),i("u-form-item",{attrs:{label:"设为默认地址","label-width":"180",prop:"is_default"}},[i("u-switch",{attrs:{slot:"right",size:"40","inactive-color":"#e3e2e2","active-color":"#FF5058"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onSwitchDefault.apply(void 0,arguments)}},slot:"right",model:{value:!!t.form.is_default,callback:function(e){t.$set(t.form,"is_default ? true : false",e)},expression:"form.is_default ? true : false"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-margin-lr-20 u-margin-top-50"},[i("u-button",{attrs:{size:"default",type:"error",shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$u.debounce(t.onSubmit,200)}}},[t._v("完成")])],1)],1)},o=[]}}]);