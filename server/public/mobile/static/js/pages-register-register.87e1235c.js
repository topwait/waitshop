(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{"0fd1":function(t,e,n){"use strict";var i=n("419d"),s=n.n(i);s.a},1362:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-code-wrap"})},o=[]},"419d":function(t,e,n){var i=n("e2dd");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=n("4f06").default;s("62b714cf",i,!0,{sourceMap:!1,shadowMode:!1})},"6a6b":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=i(n("5530")),o=n("ada8"),a=n("26cb"),r={data:function(){return{isHandler:!1,isAgree:!1,smsTips:"",seconds:60,form:{code:"",mobile:"",password:"",okPassword:"",client:(0,o.isClient)()}}},onShow:function(){this.isLogin&&uni.reLaunch({url:"/pages/index/index"})},computed:(0,s.default)({},(0,a.mapState)(["isLogin"])),methods:(0,s.default)((0,s.default)({},(0,a.mapMutations)(["LOGIN"])),{},{onRegister:function(){var t=this;return!!this.isHandler||(this.form.mobile?11!=this.form.mobile.length?this.$u.toast("手机号格式有误"):this.form.password?this.form.password.length<6||this.form.password.length>20?this.$showToast("密码必须在6-20个字符内数字或字母"):this.form.okPassword?this.form.okPassword!==this.form.password?this.$showToast("两次密码不一致"):this.form.code?this.isAgree?(this.isHandler=!0,void this.$u.api.apiRegister(this.form).then((function(e){0===e.code?(t.LOGIN(e.data),uni.navigateBack({delta:1})):t.$showToast(e.msg),t.isHandler=!1}))):this.$showToast("请阅读服务协议并同意"):this.$showToast("请输入验证码"):this.$showToast("请输入确认密码"):this.$showToast("请输入设置密码"):this.$showToast("请输入手机号码"))},onSendSms:function(){var t=this;return""==this.form.mobile?this.$u.toast("手机号不能为空"):11!=this.form.mobile.length?this.$u.toast("手机号输入有误"):void(this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),this.$u.api.apiSendSms({mobile:this.form.mobile,scene:111}).then((function(e){uni.hideLoading(),0===e.code?(t.$u.toast("验证码已发送"),t.$refs.uCode.start()):t.$u.toast(e.msg)}))):this.$u.toast("倒计时结束后再发送"))},onChangeSms:function(t){this.smsTips=t},onCheckboxChange:function(){this.isAgree=!this.isAgree}})};e.default=r},7121:function(t,e,n){"use strict";n("a9e3"),n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"u-verification-code",props:{seconds:{type:[String,Number],default:60},startText:{type:String,default:"获取验证码"},changeText:{type:String,default:"X秒重新获取"},endText:{type:String,default:"重新获取"},keepRunning:{type:Boolean,default:!1},uniqueKey:{type:String,default:""}},data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(t){this.secNum=t}}},methods:{checkKeepRunning:function(){var t=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!t)return this.changeEvent(this.startText);var e=Math.floor(+new Date/1e3);this.keepRunning&&t&&t>e?(this.secNum=t-e,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start:function(){var t=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.setTimeToStorage(),this.timer=setInterval((function(){--t.secNum?t.changeEvent(t.changeText.replace(/x|X/,t.secNum)):(clearInterval(t.timer),t.timer=null,t.changeEvent(t.endText),t.secNum=t.seconds,t.$emit("end"),t.canGetCode=!0)}),1e3)},reset:function(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent:function(t){this.$emit("change",t)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var t=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:t+Number(this.secNum)})}}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}};e.default=i},"885f":function(t,e,n){"use strict";n.r(e);var i=n("a19a"),s=n("fa87");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("0fd1");var a,r=n("f0c5"),u=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"5e34fbf4",null,!1,i["a"],a);e["default"]=u.exports},"8b44":function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/* 颜色 */\r\n/* 边框 */\r\n/* 引入Uview */.u-code-wrap[data-v-23f13ed6]{width:0;height:0;position:fixed;z-index:-1}',""]),t.exports=e},"972d":function(t,e,n){"use strict";var i=n("ae65"),s=n.n(i);s.a},9974:function(t,e,n){"use strict";n.r(e);var i=n("1362"),s=n("aa29");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("972d");var a,r=n("f0c5"),u=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,"23f13ed6",null,!1,i["a"],a);e["default"]=u.exports},a19a:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}));var i={uForm:n("8782").default,uFormItem:n("eb61").default,uInput:n("1fb0").default,uVerificationCode:n("9974").default,uButton:n("63fe").default,uCheckbox:n("74d2").default},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"index-register-widget"},[n("u-form",{ref:"uForm",attrs:{model:t.form}},[n("u-form-item",{attrs:{label:"手机号码","label-width":"140"}},[n("u-input",{attrs:{type:"number",placeholder:"请输入手机号"},model:{value:t.form.mobile,callback:function(e){t.$set(t.form,"mobile",e)},expression:"form.mobile"}})],1),n("u-form-item",{attrs:{label:"设置密码","label-width":"140"}},[n("u-input",{attrs:{type:"password",placeholder:"6-20位数字+字母混合密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),n("u-form-item",{attrs:{label:"确认密码","label-width":"140"}},[n("u-input",{attrs:{type:"password",placeholder:"6-20位数字+字母混合密码"},model:{value:t.form.okPassword,callback:function(e){t.$set(t.form,"okPassword",e)},expression:"form.okPassword"}})],1),n("u-form-item",{attrs:{label:"验证码","label-width":"140"}},[n("u-input",{attrs:{type:"number",placeholder:"请输入验证码"},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}}),n("u-form-item",{attrs:{slot:"right","border-bottom":!1},slot:"right"},[n("u-verification-code",{ref:"uCode",attrs:{seconds:t.seconds},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onChangeSms.apply(void 0,arguments)}}}),n("u-button",{attrs:{plain:!0,type:"error","hover-class":"none",size:"mini",shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onSendSms.apply(void 0,arguments)}}},[t._v(t._s(t.smsTips))])],1)],1)],1),n("v-uni-view",{staticClass:"index-agreement-widget u-margin-top-40"},[n("v-uni-view",{staticClass:"login-text"},[n("u-checkbox",{attrs:{"active-color":"#FF5058"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.onCheckboxChange.apply(void 0,arguments)}},model:{value:t.isAgree,callback:function(e){t.isAgree=e},expression:"isAgree"}}),n("v-uni-text",[t._v("已阅读并同意")]),n("v-uni-text",{staticStyle:{color:"#FF2C3C"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$toPage("/bundle/pages/user_policy/user_policy?type=service")}}},[t._v("《服务协议》")]),n("v-uni-text",[t._v("和")]),n("v-uni-text",{staticStyle:{color:"#FF2C3C"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$toPage("/bundle/pages/user_policy/user_policy?type=privacy")}}},[t._v("《隐私协议》")])],1)],1),n("v-uni-button",{staticClass:"button-item",class:t.isHandler?"loading":"",attrs:{loading:t.isHandler},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onRegister.apply(void 0,arguments)}}},[t._v("立即注册")])],1)],1)},o=[]},aa29:function(t,e,n){"use strict";n.r(e);var i=n("7121"),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a},ae65:function(t,e,n){var i=n("8b44");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=n("4f06").default;s("3ed55779",i,!0,{sourceMap:!1,shadowMode:!1})},e2dd:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/* 颜色 */\r\n/* 边框 */\r\n/* 引入Uview */.index-register-widget[data-v-5e34fbf4]{margin:%?30?%}.index-register-widget .button-item[data-v-5e34fbf4]{display:flex;justify-content:center;align-items:center;font-size:%?28?%;color:#fff;height:%?86?%;border-radius:%?50?%;width:100%;margin-top:%?60?%;background-color:#ff5058}.index-register-widget .button-item.loading[data-v-5e34fbf4]{color:#f7eaea!important;background-image:linear-gradient(90deg,#fd9371,#f56772)!important}',""]),t.exports=e},fa87:function(t,e,n){"use strict";n.r(e);var i=n("6a6b"),s=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=s.a}}]);